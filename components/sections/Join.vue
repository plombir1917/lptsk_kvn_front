<template>
  <section class="py-20">
    <AtomsContainer>
      <div
        class="w-full relative py-8 md:py-10 px-6 md:px-8 rounded-2xl bg-gradient-to-tr from-gray-100 to-gray-200 dark:from-gray-900 dark:to-body-color"
        id="join"
      >
        <div class="absolute right-0 top-0 h-full w-full flex justify-end">
          <span class="flex opacity-20">
            <span
              class="w-16 h-32 rounded-l-full flex bg-primary blur-2xl"
            ></span>
            <span
              class="w-16 h-32 rounded-r-full flex bg-[#f88fc2] blur-2xl mt-14"
            ></span>
          </span>
        </div>

        <div class="absolute left-0 bottom-0 h-full w-full flex items-end">
          <span class="flex opacity-20">
            <span
              class="w-16 h-32 rounded-l-full flex bg-primary blur-2xl"
            ></span>
            <span
              class="w-16 h-32 rounded-r-full flex bg-[#f88fc2] blur-2xl mt-14"
            ></span>
          </span>
        </div>
        <div class="mx-auto text-center max-w-xl md:max-w-2xl relative">
          <h2
            class="text-gray-800 pt-4 dark:text-white font-bold text-4xl md:text-5xl lg:text-6x"
          >
            –ë—É–¥—å –≤—Å–µ–≥–¥–∞ –≤ –∫—É—Ä—Å–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
            <span
              class="text-transparent bg-clip-text bg-gradient-to-br from-blue-500 to-[#6ac8d6]"
              >–ö–í–ù —Ç–≤–æ–µ–≥–æ –≥–æ—Ä–æ–¥–∞</span
            >
          </h2>
          <p class="text-gray-600 dark:text-gray-300 pt-8 mx-auto max-w-xl">
            –ü–æ–ª—É—á–∞–π –ø–µ—Ä–≤—ã–º –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ –≤—Å–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, —É—á–∞—Å—Ç–≤—É–π –≤ —Ç—Ä–µ–Ω–∏–Ω–≥–∞—Ö
            –∏ –¥–µ—Ä–∂–∏ —Ä—É–∫—É –Ω–∞ –ø—É–ª—å—Å–µ –∫—É–ª—Ç—É—Ä—ã. –°–≤—è–∑—åü§ôüèª
          </p>
          <div class="mx-auto max-w-md sm:max-w-xl pt-10">
            <div id="VkIdSdkOneTap" ref="container"></div>
          </div>
        </div>
      </div>
    </AtomsContainer>
  </section>
</template>

<script lang="ts" setup>
import * as VKID from '@vkid/sdk';
import { ref, onMounted } from 'vue';

VKID.Config.set({
  app: 51926936, // –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
  redirectUrl: 'https://vk.com/plombir1917', // –ê–¥—Ä–µ—Å –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
  state: 'dj29fnsadjsd82...', // –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
});

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–Ω–æ–ø–∫–∏.
const oneTap = new VKID.OneTap();

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏–∑ —Ä–∞–∑–º–µ—Ç–∫–∏.
const container = ref(null);
// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.
onMounted(() => {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–Ω–æ–ø–∫–∏ –≤ —Ä–∞–∑–º–µ—Ç–∫–µ.
  if (container.value) {
    // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Å –∏–º–µ–Ω–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è APP_NAME, —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–æ–π –∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.
    oneTap.render({
      container: container.value,
      scheme: VKID.Scheme.LIGHT,
      lang: VKID.Languages.RUS,
    });
  }
});
</script>
